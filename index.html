<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quem limpa a sala hoje?</title>
<style>
  /* RESET e estilo básico */
  * {
    box-sizing: border-box;
  }
  body {
    font-family: Arial, sans-serif;
    background: #f5f8fa;
    color: #2c3e50;
    margin: 0; padding: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1 {
    margin: 30px 0 10px;
    font-weight: 700;
  }
  p {
    margin: 0 0 20px;
  }
  button, input {
    font-size: 16px;
    border-radius: 6px;
    border: none;
    padding: 10px 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    font-weight: 600;
  }
  button {
    background-color: #2c3e50;
    color: white;
  }
  button:hover:not(:disabled) {
    background-color: #34495e;
  }
  button:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
  }
  input {
    border: 1px solid #ccc;
    padding: 8px 12px;
    width: 100%;
  }
  label {
    font-weight: 600;
  }

  /* TELA INICIAL */
  #telaInicial {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    margin-top: 80px;
  }
  #telaInicial button {
    width: 220px;
  }

  /* LOGIN PROFESSOR */
  #loginProfessor {
    display: none;
    flex-direction: column;
    width: 320px;
    margin-top: 40px;
  }
  #loginProfessor > div {
    margin-bottom: 12px;
  }
  #erroLogin {
    color: #c0392b;
    font-weight: 700;
    margin-bottom: 12px;
    display: none;
  }

  /* PAINEL PRINCIPAL */
  #painelPrincipal {
    display: none;
    width: 400px;
    margin-top: 30px;
    position: relative;
    background: white;
    border-radius: 10px;
    padding: 25px 30px 50px;
    box-shadow: 0 2px 10px rgb(0 0 0 / 0.1);
  }

  #painelPrincipal h2 {
    margin-top: 0;
    margin-bottom: 15px;
    text-align: center;
  }

  #resultado ul {
    list-style: none;
    padding-left: 0;
    margin: 10px 0 25px;
    font-size: 18px;
  }
  #resultado li {
    background: #ecf0f1;
    margin-bottom: 10px;
    padding: 12px 16px;
    border-radius: 6px;
    color: #2c3e50;
  }

  #btnContinuarEscala {
    display: block;
    width: 100%;
    margin-top: 10px;
  }

  /* BOTÃO 3 PONTINHOS LATERAL */
  #btnAbrirPainel {
    position: fixed;
    top: 30px;
    right: 30px;
    background: #2c3e50;
    border-radius: 50%;
    width: 42px;
    height: 42px;
    font-size: 28px;
    color: white;
    cursor: pointer;
    z-index: 1000;
    display: none;
    align-items: center;
    justify-content: center;
    user-select: none;
  }
  #menuPainel {
    display: none;
    position: fixed;
    top: 80px;
    right: 30px;
    width: 200px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgb(0 0 0 / 0.15);
    z-index: 1000;
  }
  #menuPainel button {
    width: 100%;
    text-align: left;
    padding: 10px 20px;
    border-radius: 0;
    border-bottom: 1px solid #ddd;
    background: white;
    color: #2c3e50;
  }
  #menuPainel button:last-child {
    border-bottom: none;
  }
  #menuPainel button:hover {
    background: #ecf0f1;
  }

  /* FORMULÁRIO DE LIBERAR ACESSO */
  #liberarAcessoContainer {
    display: none;
    margin-top: 20px;
  }
  #liberarAcessoContainer label {
    display: block;
    margin-bottom: 6px;
  }
  #liberarAcessoContainer input {
    width: 100%;
    margin-bottom: 10px;
  }
  #liberarAcessoContainer button {
    width: 100%;
  }

  /* ESCALA PARA PROFESSORES - CHECKBOX */
  #checkboxContainer {
    display: flex;
    gap: 20px;
    margin-top: 12px;
  }
  #checkboxContainer div {
    display: flex;
    align-items: center;
    gap: 6px;
  }
  #checkboxContainer input[type="checkbox"] {
    width: 18px;
    height: 18px;
  }

  /* AVISO RESET */
  #avisoReset {
    margin-top: 16px;
    color: #c0392b;
    font-weight: 700;
    font-size: 13px;
  }

  /* FOOTER */
  footer {
    margin-top: 50px;
    font-size: 14px;
    color: #7f8c8d;
    text-align: center;
    user-select: none;
  }

  /* ESCALA PARA ESTUDANTES (sem checkbox) */
  #escalaEstudante ul {
    list-style: none;
    padding-left: 0;
    font-size: 18px;
    margin: 10px 0 25px;
  }
  #escalaEstudante li {
    background: #ecf0f1;
    margin-bottom: 10px;
    padding: 12px 16px;
    border-radius: 6px;
    color: #2c3e50;
  }
</style>
</head>
<body>
  <h1>Quem limpa a sala hoje?</h1>

  <!-- TELA INICIAL -->
  <div id="telaInicial">
    <p>Escolha seu perfil para continuar:</p>
    <button id="btnProfessor">Professor / Representante</button>
    <button id="btnEstudante">Estudante</button>
  </div>

  <!-- LOGIN PROFESSOR -->
  <div id="loginProfessor">
    <p>Login Professor / Representante</p>
    <div>
      <label for="emailLogin">Email</label>
      <input type="email" id="emailLogin" autocomplete="username" />
    </div>
    <div>
      <label for="senhaLogin">Senha</label>
      <input type="password" id="senhaLogin" autocomplete="current-password" />
    </div>
    <button id="btnEntrar">Entrar</button>
    <div id="erroLogin">Email ou senha incorretos.</div>
    <button id="btnVoltarInicial" style="margin-top:10px;background:#95a5a6;">Voltar</button>
  </div>

  <!-- PAINEL PRINCIPAL - PROFESSOR -->
  <div id="painelPrincipal">
    <h2>Escala de hoje:</h2>
    <div id="resultado"></div>

    <!-- Checkbox só aparece para professor -->
    <div id="checkboxContainer"></div>

    <button id="btnConfirmar" style="margin-top:15px;">Confirmar faltas/limpeza</button>
    <button id="btnContinuarEscala" style="margin-top:15px;">Continuar</button>

    <div id="avisoReset">
      ⚠️ Cuidado: o botão resetar apaga <u>TODOS</u> os dados!
    </div>
  </div>

  <!-- ESCALA PARA ESTUDANTE -->
  <div id="escalaEstudante" style="display:none; width: 400px; margin-top: 30px;">
    <h2>Escala de hoje:</h2>
    <ul id="listaEscalaEstudante"></ul>
    <button id="btnContinuarEstudante">Atualizar Escala</button>
  </div>

  <!-- BOTÃO 3 PONTINHOS -->
  <div id="btnAbrirPainel" title="Menu">⋮</div>
  <div id="menuPainel">
    <button id="btnLiberarAcesso">Liberar acesso</button>
    <button id="btnResetarEscala">Resetar escala</button>
    <button id="btnSair">Sair</button>
  </div>

  <!-- FORMULÁRIO LIBERAR ACESSO -->
  <div id="liberarAcessoContainer" style="width: 320px; margin-top: 30px; display:none;">
    <label for="emailLiberar">Email do novo administrador</label>
    <input type="email" id="emailLiberar" />
    <button id="btnLiberarConfirmar">Adicionar administrador</button>
    <button id="btnCancelarLiberar" style="margin-top:10px;background:#95a5a6;">Cancelar</button>
    <div id="msgLiberar" style="margin-top:10px;color:green;display:none;">Administrador adicionado com sucesso!</div>
  </div>

  <footer>
    <p>© 2025 Nicolas GBM | Criador do projeto.</p>
    <p>Contato: <a href="mailto:nicolasgmbatista15@gmail.com">nicolasgmbatista15@gmail.com</a></p>
  </footer>

  <!-- FIREBASE SDKs -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
    import {
      getAuth, onAuthStateChanged, signInWithEmailAndPassword,
      signOut
    } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js";
    import {
      getFirestore, doc, getDoc, setDoc, updateDoc, arrayUnion,
      collection, getDocs
    } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore.js";

    // Config Firebase (coloque suas configs reais aqui)
    const firebaseConfig = {
  apiKey: "AIzaSyAGkdnFfJNw4r6yYpSGIpgjwISBOppwR60",
  authDomain: "quem-limpa-hoje.firebaseapp.com",
  projectId: "quem-limpa-hoje",
  storageBucket: "quem-limpa-hoje.firebasestorage.app",
  messagingSenderId: "44929275404",
  appId: "1:44929275404:web:971258e864925cb3684029"
};

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const db = getFirestore();

    // Elementos DOM
    const telaInicial = document.getElementById('telaInicial');
    const btnProfessor = document.getElementById('btnProfessor');
    const btnEstudante = document.getElementById('btnEstudante');

    const loginProfessor = document.getElementById('loginProfessor');
    const emailLogin = document.getElementById('emailLogin');
    const senhaLogin = document.getElementById('senhaLogin');
    const btnEntrar = document.getElementById('btnEntrar');
    const erroLogin = document.getElementById('erroLogin');
    const btnVoltarInicial = document.getElementById('btnVoltarInicial');

    const painelPrincipal = document.getElementById('painelPrincipal');
    const resultado = document.getElementById('resultado');
    const checkboxContainer = document.getElementById('checkboxContainer');
    const btnConfirmar = document.getElementById('btnConfirmar');
    const btnContinuarEscala = document.getElementById('btnContinuarEscala');
    const avisoReset = document.getElementById('avisoReset');

    const escalaEstudante = document.getElementById('escalaEstudante');
    const listaEscalaEstudante = document.getElementById('listaEscalaEstudante');
    const btnContinuarEstudante = document.getElementById('btnContinuarEstudante');

    const btnAbrirPainel = document.getElementById('btnAbrirPainel');
    const menuPainel = document.getElementById('menuPainel');
    const btnLiberarAcesso = document.getElementById('btnLiberarAcesso');
    const btnResetarEscala = document.getElementById('btnResetarEscala');
    const btnSair = document.getElementById('btnSair');

    const liberarAcessoContainer = document.getElementById('liberarAcessoContainer');
    const emailLiberar = document.getElementById('emailLiberar');
    const btnLiberarConfirmar = document.getElementById('btnLiberarConfirmar');
    const btnCancelarLiberar = document.getElementById('btnCancelarLiberar');
    const msgLiberar = document.getElementById('msgLiberar');

    // Variáveis de controle
    let tipoUsuario = null; // "professor" ou "estudante"
    let admins = []; // emails liberados para acessar como professor/admin

    // Lista de nomes da escala (fixa)
    const nomes = [
      "Ana", "Beatriz", "Bernardo", "Emanuelly", "Gabriel", "Gabrielle", "Greicy",
      "Henzo", "Igor", "Isadora", "Jennifer", "Joedna", "Kemilly Silva", "Kemilly Puff",
      "Luiz", "Mateus Yuri", "Mateus Chagas", "Nayara", "Nicolas", "Norehangeles",
      "Pedro", "Samuel", "Sebastião", "Zaira"
    ].sort((a,b) => a.localeCompare(b));

    // Estado da escala e histórico salvo localmente
    let posicaoUltimaEscala = JSON.parse(localStorage.getItem('posicaoUltimaEscala'));
    if(typeof posicaoUltimaEscala !== 'number' || isNaN(posicaoUltimaEscala)) posicaoUltimaEscala = -1;

    let historicoTarefa = JSON.parse(localStorage.getItem('historicoTarefa') || '{}');
    let escalaAtual = JSON.parse(localStorage.getItem('escalaAtual') || '[]');
    let faltantesPendentes = JSON.parse(localStorage.getItem('faltantesPendentes') || '[]');

    // Funções de salvar localStorage
    function salvarTudo() {
      localStorage.setItem('posicaoUltimaEscala', JSON.stringify(posicaoUltimaEscala));
      localStorage.setItem('historicoTarefa', JSON.stringify(historicoTarefa));
      localStorage.setItem('escalaAtual', JSON.stringify(escalaAtual));
      localStorage.setItem('faltantesPendentes', JSON.stringify(faltantesPendentes));
    }

    // Funções da escala - alterna tarefa
    function alternarTarefa(tarefa) {
      return tarefa === 'mesa' ? 'chão' : 'mesa';
    }

    // Busca próximo índice válido ignorando nomes já usados
    function proximoIndice(atual, nomesIgnorados = []) {
      let i = atual;
      for(let count=0; count<nomes.length; count++) {
        i = (i + 1) % nomes.length;
        if(!nomesIgnorados.includes(nomes[i])) return i;
      }
      return -1;
    }

    // Gera escala inicial respeitando alternância e faltantes pendentes
    function gerarEscala() {
      const retornantes = [...faltantesPendentes];
      faltantesPendentes = [];

      let nomesUsados = retornantes.map(f => f.nome);
      let ultimoIdx = posicaoUltimaEscala;

      if(escalaAtual.length === 0) {
        const idx1 = proximoIndice(ultimoIdx, nomesUsados);
        const nome1 = nomes[idx1];
        const tarefa1 = alternarTarefa(historicoTarefa[nome1] || 'mesa');
        historicoTarefa[nome1] = tarefa1;
        nomesUsados.push(nome1);

        const idx2 = proximoIndice(idx1, nomesUsados);
        const nome2 = nomes[idx2];
        const tarefa2 = alternarTarefa(tarefa1);
        historicoTarefa[nome2] = tarefa2;
        nomesUsados.push(nome2);

        escalaAtual = [
          { nome: nome1, tarefa: tarefa1, index: idx1 },
          { nome: nome2, tarefa: tarefa2, index: idx2 }
        ];

        posicaoUltimaEscala = idx2;
        salvarTudo();
        atualizarResultadoEFormulario();
        return;
      }

      const presentes = escalaAtual.filter(p => !retornantes.some(f => f.nome === p.nome));
      const substitutos = [];
      for(let i=0; i<presentes.length; i++) {
        const idx = proximoIndice(ultimoIdx, nomesUsados);
        const nome = nomes[idx];
        nomesUsados.push(nome);
        const tarefa = alternarTarefa(historicoTarefa[nome] || 'mesa');
        historicoTarefa[nome] = tarefa;
        substitutos.push({ nome, tarefa, index: idx });
        ultimoIdx = idx;
      }

      escalaAtual = [...presentes, ...substitutos];
      posicaoUltimaEscala = escalaAtual.reduce((acc, cur) => cur.index > acc ? cur.index : acc, -1);
      salvarTudo();
      atualizarResultadoEFormulario();
    }

    // Atualiza a escala na tela, diferente para professor (com checkboxes) e estudante (apenas lista)
    function atualizarResultadoEFormulario() {
      if(tipoUsuario === 'professor') {
        // Mostrar escala com checkbox para faltas
        resultado.innerHTML = '';
        checkboxContainer.innerHTML = '';

        escalaAtual.forEach((pessoa, i) => {
          const li = document.createElement('li');
          li.textContent = `${pessoa.nome} ➔ ${pessoa.tarefa}`;
          resultado.appendChild(li);

          // checkbox
          const divCheck = document.createElement('div');
          const check = document.createElement('input');
          check.type = 'checkbox';
          check.id = `checkbox-${i}`;
          check.value = pessoa.nome;
          divCheck.appendChild(check);

          const label = document.createElement('label');
          label.htmlFor = `checkbox-${i}`;
          label.textContent = pessoa.nome;
          divCheck.appendChild(label);

          checkboxContainer.appendChild(divCheck);
        });
      } else if(tipoUsuario === 'estudante') {
        // Apenas lista simples
        listaEscalaEstudante.innerHTML = '';
        escalaAtual.forEach(pessoa => {
          const li = document.createElement('li');
          li.textContent = `${pessoa.nome} ➔ ${pessoa.tarefa}`;
          listaEscalaEstudante.appendChild(li);
        });
      }
    }

    // Remove da escala os selecionados que faltaram ou limparam, substituindo por próximos
    function confirmarFaltasELimpeza() {
      const checkboxes = checkboxContainer.querySelectorAll('input[type="checkbox"]');
      const selecionados = [];
      checkboxes.forEach(chk => {
        if(chk.checked) selecionados.push(chk.value);
      });
      if(selecionados.length === 0) {
        alert('Nenhuma pessoa selecionada.');
        return;
      }

      let nomesUsados = escalaAtual.map(p => p.nome);
      let novoEscala = escalaAtual.filter(p => !selecionados.includes(p.nome));
      let ultimoIdx = posicaoUltimaEscala;

      selecionados.forEach(() => {
        const idx = proximoIndice(ultimoIdx, nomesUsados);
        if(idx === -1) return;
        const nome = nomes[idx];
        nomesUsados.push(nome);
        const tarefa = alternarTarefa(historicoTarefa[nome] || 'mesa');
        historicoTarefa[nome] = tarefa;
        novoEscala.push({ nome, tarefa, index: idx });
        ultimoIdx = idx;
      });

      escalaAtual = novoEscala;
      posicaoUltimaEscala = ultimoIdx;
      salvarTudo();
      atualizarResultadoEFormulario();
    }

    // Resetar tudo
    function resetarEscala() {
      if(!confirm('Tem certeza que deseja resetar a escala? Isso apagará todos os dados salvos.')) return;
      posicaoUltimaEscala = -1;
      historicoTarefa = {};
      escalaAtual = [];
      faltantesPendentes = [];
      salvarTudo();
      atualizarResultadoEFormulario();
    }

    // Funções de UI
    function mostrarTelaInicial() {
      telaInicial.style.display = 'flex';
      loginProfessor.style.display = 'none';
      painelPrincipal.style.display = 'none';
      btnAbrirPainel.style.display = 'none';
      escalaEstudante.style.display = 'none';
      liberarAcessoContainer.style.display = 'none';
      menuPainel.style.display = 'none';
      erroLogin.style.display = 'none';
      tipoUsuario = null;
      emailLogin.value = '';
      senhaLogin.value = '';
      emailLiberar.value = '';
      msgLiberar.style.display = 'none';
    }
    function mostrarLoginProfessor() {
      telaInicial.style.display = 'none';
      loginProfessor.style.display = 'flex';
      painelPrincipal.style.display = 'none';
      btnAbrirPainel.style.display = 'none';
      escalaEstudante.style.display = 'none';
      liberarAcessoContainer.style.display = 'none';
      menuPainel.style.display = 'none';
      erroLogin.style.display = 'none';
      emailLogin.value = '';
      senhaLogin.value = '';
    }
    function mostrarPainelPrincipal() {
      telaInicial.style.display = 'none';
      loginProfessor.style.display = 'none';
      painelPrincipal.style.display = 'block';
      btnAbrirPainel.style.display = 'flex';
      escalaEstudante.style.display = 'none';
      liberarAcessoContainer.style.display = 'none';
      menuPainel.style.display = 'none';
      erroLogin.style.display = 'none';
    }
    function mostrarEscalaEstudante() {
      telaInicial.style.display = 'none';
      loginProfessor.style.display = 'none';
      painelPrincipal.style.display = 'none';
      btnAbrirPainel.style.display = 'none';
      escalaEstudante.style.display = 'block';
      liberarAcessoContainer.style.display = 'none';
      menuPainel.style.display = 'none';
      erroLogin.style.display = 'none';
    }

    // Controle do menu lateral 3 pontinhos
    btnAbrirPainel.addEventListener('click', () => {
      if(menuPainel.style.display === 'block') {
        menuPainel.style.display = 'none';
      } else {
        menuPainel.style.display = 'block';
      }
    });
    // Fechar menu ao clicar fora
    window.addEventListener('click', e => {
      if(!btnAbrirPainel.contains(e.target) && !menuPainel.contains(e.target)) {
        menuPainel.style.display = 'none';
      }
    });

    // Variáveis Firestore doc referência admins
    const adminsDocRef = doc(db, 'controle', 'admins');

    // Buscar lista de admins do Firestore
    async function buscarAdmins() {
      try {
        const docSnap = await getDoc(adminsDocRef);
        if(docSnap.exists()) {
          admins = docSnap.data().emails || [];
        } else {
          admins = [];
        }
      } catch (err) {
        console.error('Erro ao buscar admins:', err);
        admins = [];
      }
    }

    // Adicionar email admin no Firestore
    async function adicionarAdmin(email) {
      try {
        await updateDoc(adminsDocRef, {
          emails: arrayUnion(email)
        });
        admins.push(email);
        msgLiberar.style.display = 'block';
      } catch (err) {
        console.error('Erro ao adicionar admin:', err);
        alert('Erro ao adicionar administrador.');
      }
    }

    // Remover admin (se quiser implementar depois)

    // Validação se o email é admin
    function isAdminEmail(email) {
      return admins.includes(email.toLowerCase());
    }

    // Eventos

    // Ao carregar a página
    window.onload = async () => {
      mostrarTelaInicial();
      await buscarAdmins();

      // Forçar logout se estiver logado
      if(auth.currentUser) {
        await signOut(auth);
      }
    };

    // Escolha professor
    btnProfessor.onclick = () => {
      tipoUsuario = 'professor';
      mostrarLoginProfessor();
    };
    // Escolha estudante
    btnEstudante.onclick = () => {
      tipoUsuario = 'estudante';
      mostrarEscalaEstudante();
      carregarEscalaEstudante();
    };

    // Voltar para tela inicial no login professor
    btnVoltarInicial.onclick = () => {
      mostrarTelaInicial();
    };

    // Login professor
    btnEntrar.onclick = async () => {
      erroLogin.style.display = 'none';
      const email = emailLogin.value.trim().toLowerCase();
      const senha = senhaLogin.value;

      if(!email || !senha) {
        erroLogin.textContent = 'Por favor, preencha email e senha.';
        erroLogin.style.display = 'block';
        return;
      }
      await buscarAdmins();
      if(!isAdminEmail(email)) {
        erroLogin.textContent = 'Email não autorizado.';
        erroLogin.style.display = 'block';
        return;
      }

      try {
        await signInWithEmailAndPassword(auth, email, senha);
        mostrarPainelPrincipal();
        carregarEscalaProfessor();
      } catch {
        erroLogin.textContent = 'Email ou senha incorretos.';
        erroLogin.style.display = 'block';
      }
    };

    // Botão continuar professor
    btnContinuarEscala.onclick = () => {
      gerarEscala();
    };

    // Botão continuar estudante (atualizar escala)
    btnContinuarEstudante.onclick = () => {
      carregarEscalaEstudante();
    };

    // Carregar escala para professor (com checkbox)
    function carregarEscalaProfessor() {
      if(escalaAtual.length === 0) {
        gerarEscala();
      } else {
        atualizarResultadoEFormulario();
      }
    }

    // Carregar escala para estudante (apenas lista)
    function carregarEscalaEstudante() {
      if(escalaAtual.length === 0) {
        gerarEscala();
      }
      atualizarResultadoEFormulario();
    }

    // Confirmar faltas e limpeza professor
    btnConfirmar.onclick = () => {
      confirmarFaltasELimpeza();
    };

    // Resetar escala no menu lateral
    btnResetarEscala.onclick = () => {
      resetarEscala();
      menuPainel.style.display = 'none';
    };

    // Sair (logout)
    btnSair.onclick = async () => {
      await signOut(auth);
      mostrarTelaInicial();
      menuPainel.style.display = 'none';
    };

    // Liberar acesso - mostrar formulário
    btnLiberarAcesso.onclick = () => {
      liberarAcessoContainer.style.display = 'block';
      menuPainel.style.display = 'none';
      msgLiberar.style.display = 'none';
      emailLiberar.value = '';
    };

    // Cancelar liberar acesso
    btnCancelarLiberar.onclick = () => {
      liberarAcessoContainer.style.display = 'none';
      msgLiberar.style.display = 'none';
    };

    // Confirmar liberar acesso
    btnLiberarConfirmar.onclick = async () => {
      const email = emailLiberar.value.trim().toLowerCase();
      if(!email) {
        alert('Digite um email válido.');
        return;
      }
      await adicionarAdmin(email);
    };

    // Listener auth state, para forçar sempre tela inicial e logout automático
    onAuthStateChanged(auth, async (user) => {
      if(user) {
        // Se estiver logado, manter a tela do painel apenas se tipoUsuario estiver setado como professor
        if(tipoUsuario !== 'professor') {
          await signOut(auth);
          mostrarTelaInicial();
        }
      } else {
        mostrarTelaInicial();
      }
    });
  </script>
</body>
</html>
